pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
-- by julia


function _init()
    actors = {}
    sand = {}
    game_over = false
    direction = "east"
    turning = false
    raising_or_lowering_scoop = false
    whale_back = make_actor(8, 8, 44 )
    whale_front = make_actor(9, 8, 45 )
    raised_scoop = false
    whale_speed = .05
    make_houses()
end

function make_houses()

end


function move_whale_tracks()
    if (whale_back.spr == 59) then
        whale_back.spr = 43
    elseif (whale_back.spr == 43) then
        whale_back.spr = 59
    elseif (whale_back.spr == 44) then
        whale_back.spr = 60
    elseif (whale_back.spr == 60) then
        whale_back.spr = 44
    end
end


function move_whale()
    if (btn(0) and whale_back.x > 0.4 and whale_front.x > 0.4) then
        whale_back.x = whale_back.x - whale_speed
        whale_front.x = whale_front.x - whale_speed
        
    end
    if (btn(1) and whale_back.x < 15.5 and whale_front.x < 15.5 ) then  
        whale_back.x = whale_back.x + whale_speed
        whale_front.x = whale_front.x + whale_speed
        
    end
    if (btn(2) and whale_back.y > 0.7 and whale_front.y > 0.7 ) then
        whale_back.y = whale_back.y - whale_speed
        whale_front.y = whale_front.y - whale_speed                                                                                        
    end 
    if (btn(3)and whale_back.y < 13.5 and whale_front.y < 13.5 ) then 
        whale_back.y = whale_back.y + whale_speed
        whale_front.y = whale_front.y + whale_speed
    end
    if (btn(4)) then 
        if (not turning) then
            if (direction == "east") then
                whale_back.spr  =  43
                whale_front.spr = 42
                whale_front.x = whale_back.x -1
                direction = "west"
            elseif (direction == "west") then
                whale_back.spr  =  44
                whale_front.spr = 45
                whale_front.x = whale_back.x +1
                direction = "east"
            end  
        end
        turning = true
    end
    if (not btn(4)) then 
        turning = false
    end
    if (btn(5)) then 
        // open mouth
    end
    if (not btn(5)) then 
        // close mouth
    end
   
end

function make_actor(x,y,spr)
    a={}
    a.x = x
    a.y = y
    a.spr = spr
    add(actors,a)
  
    return a
end 

function make_sand (x,y) 
    a={}
    a.x = x
    a.y = y
    a.spr = 2
    add(sand,a)
    return a
end


function _update()
    if (not game_over) then
        move_whale()
    end
end
        

function draw_actor(a)
  local sx = (a.x * 8) - 4
  local sy = (a.y * 8) - 4
  spr(a.spr, sx, sy)
end


function _draw()
  cls()
  map(0,0,0,0,16,16)
  foreach (sand, draw_actor)
  foreach(actors,draw_actor)
  
end




__gfx__
555555550000aa004444444400000000000000000000000008000000000000000000000000000000767777770000000000000000000008875555555555555555
555555550000aa004444444400000000000000000000000088800000000000000000000000030000667677670077770000000000000888875dddddd5ddddddd5
555555558000a000444444440000000000000000000000088888000000000ccee000000000333000776367767777777000000000000000075dddddd5ddddddd5
55555555880aa000444444440000000000000000000000888888880000000ccee000000000333000776367777777777700000000000000075dddddd5ddddddd5
55555555888aa88044444444000000000000000000000000aaaaa08000000eeeee00000003333300763336760077777077777777000000075555555555555555
55555555000aa00044444444000000000000000000000000acaca88800eeeeeeeeeee20203333300733333760007700000000000000000075dddddd5ddddddd5
5555555500aa000044444444000000000000000000000000aaaaaaaa008888888888822203343300763436760000000000000000000000075dddddd5ddddddd5
5555555500aa000044444444000000000000000000000000aabaaaaa00822e2222e2800200040000777477770000000000000000000000075555555555555555
000000000000000000000000ffffffff0000000000000000fffbbfff00000000000080001111111111111111ccccccccffffffff3333333300000000aa000000
000000000000000000000000fff88fff0000000000000000ffbbbbff00000000000888001177777777777111ccccccccffffffff33333333000000000a000000
000000000000777000000000ff8888ff0000000000000000fbbbbbbf00000000008888801177777777777111ccccccccffffffff33333333000000000aa00000
000000000000770000000000f888888f0000000000000000bbbbbbbb00000000088888881177777777777111ccccccccffffffff333333330000000000aaa000
0000000000a7700000a777708888888800a7777000000000f222222f00000000007777701117777777771111ccccccccffffffff33333333000000000000a000
000000000000000000000000fbbbbbbf0000000000000000f222222f00000000007777701111777777711111ccccccccffffffff33333333000000000000aa00
000000000000000000000000fbcbbcbf0000000000000000f225522f00000000007767701111111111111111ccccccccffffffff333333330000000000000aa0
000000000000000000000000fbb9bbbf0000000000000000f225522f00000000007767701111111111111111ccccccccffffffff3333333300000000000000aa
77777777400000000000000444444444cccccccccccccccc55445545554455450000000000000000000eee00ee0000eeee0000ee00eee00055557555aaa000a0
7766677744000000000000444444444455555555cccccc555545555555545555000000000000000000e77ee7eeee00e00e00eeee7ee77e0055555555a00aaa00
77777777444000000000044444444444ccc5cccccccccccc5555555555555555000090000000000077737777eeeeeee00eeeeeee77773777555555550a000000
77677767444400000000444444444444eeeee11ccceeeeee444555554445555500099000000000000ee77eeeeeeeeee00eeeeeeeeee77ee05555755500a00000
77666767444440000004444444444444eeeeee11cc55ccee4555555555455555999990000000000000000eeeeeee00e00e00eeeeeeee000055557555000a0000
77777777444444000044444444444444eeeee11cccccccce5555444555554445009990000000000000007ee0eee000eeee000eee0eee7000555555550000aa00
77767666444444400444444444444444ccbccbcccccccccc555555555555555500000000000000007007e00000000000000000000000e7075555555500000aa0
77777777444444444444444444444444bbbbbbbbcccccccc45555555455555550000000000000000eeee0000000000000000000000000eee55557555000000aa
00000000000000000000000000000000000000000000000000000000009999000099990000000000000eee00ee000ee00ee000eee00ee0000000000000000000
00000000000000000000000000000000000000000000000000000000009dd990099dd9000000000000e77ee7eeee00eeee00eeeee7e77e000000000000000000
00000000000000000000000000000000000000000000000000000000999dd990099dd5990000000077737777eeeeeeeeeeeeeeeee77737770000000000000000
00000000000000000000000000000000000000000000000000000000999dd990099dd999000000000ee77eeeeeeeeeeeeeeeeeeeeee77ee00000000000000000
0000000000000000000000000000000000000000000000000000000099999900009999500000000000eeeeeeeeee00eeee00eeeeeeeeee000000000000000000
000000000000000000000000000000000000000000000000000000000dddddd0000d57d000000000000eeee0eee00ee00ee00eee0eeee0000000000000000000
00000000000000000000000000000000000000000000000000000000d575757d00d7d00000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000dddddd00050000000000000000000000000000000000000000000000000000000000700
11111111000000000000000000000000000000000000000011111111111111111111111111111111000000000000000000000000000000000000000000000000
11111111000000000000000000000000000000000000000011111111171111111111117111111111000000000000000000000000000000000000000900000000
1111111100000000000000000000c000000000000000000011111111111111111111111111111111000000000000000000000000000000000000000000000000
1117777700033333000000000cccc000000000000008880011111111111111111111111111111111000000000000000000000000000000000000000000000000
117777110c53333300c20000011cc000000000000066888011111111111111111111111111111111000000000000000000000000000000000000000000000000
177771110553333322220000ccccc000000cc3330888888811111111111111111111111111111111000000000000000000000000000000000000000000000000
777771115553333322222222cccccccc333333330888888817111111111111111111111111111171000000000000000000000000000000000000000000000000
77771111000070700700007007000700070000070070007011111111111111111111111111111111000000000000000000000000000000000000000000000000
7777111188558888cccccccc11117777777777770000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
777711118855888877777777717188888888888800000000111111115aa55aa5555aaa5555aaa555555555550000000000000000000000000000000000000000
1777111188558888cccacccc111177777787877700000000111111115aa55aa5555aaa5555aaa55555a55a550000000000000000000000000000000000000000
177771115555555577aaa77771718888878887880000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
1177771155555555cccacccc11117777788888770000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
111777778855888877777777888888888788878800000000111111115aa55aa5555aaa5555aaa55555a55a550000000000000000000000000000000000000000
1111111188558888cccccccc777777777778777700000000111111115aa55aa5555aaa5555aaa555555555550000000000000000000000000000000000000000
11111111885588880000000088888888888888880000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
00000000000000000000000000000000555555550000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000055555555000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000055555555777777770000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aa000000000000aa0000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000a00000000000000000
0000000000000555000000000000000000000000000000000000000000000000000000000000000000000000000000000aa0a000000a0aa00000000000000000
00000000000055550000000000000000000000000000000000000000000000000000000000000000000000000000000000aaaa0000aaaa000000000000000000
000000000000555500000000000000000000000000000000000000000000000000000000000000000000000000000000000a0a0000a0a0000000000000000000
000000000055555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00aa000000000000000000000
000000000555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00a0000000000000000000000
0000000055555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000
bbbbbbbbb00000000000000ccccccccc000000000ccccc0000000700000000000000000000000000000000000000000000000000000000000000000000000000
0000b0000000000000000000000c000000000000000c0000ccccccc0000000000000000000000000000000000000000000000000000000000000000000000000
0000b0000000000000000000000c000000000000000c000000000700000000000000000000000000000000000000000000000000000000000000000000000000
0000b00e0000000000000000e00c00c000000000e00c00c000000000000000000009000000000000000900000000000000009000000000000000900000000000
0bbbb0e00bb0000000000cc00e0cccc000000cc00e0cccc000000000000000000009000000000000000900000000000000009000000000000000900000000000
0000b0eee0b0000000000c0eee0c000000000c0eee0c0000000000000000000000e900000000700000d900000000000000009d000007000000009d0000000000
00000b00be000000000000ec00c00000000000ec00c0000000000000000000000becee00000077000bdcdd000000000000ddcdb00077000000ddcdb000000000
000000bb0ee0000000000ee0cc00000000000ee0cc00000000000000000000000beeee00000077700bdddd000000000000ddddb00777000000ddddb000000000
00000000666666660000000000000700000000000000000000000000000000000bdd0000000007770bdd0000000000000000ddb0777000000000ddb000000000
000000006666666600000000ccccccc0000000000000000000000000000000000bdd0000000000770bdd0000000000000000ddb0770000000000ddb000000000
00000000666666660000000000000700000000000000000000000000000000000bdd0000000000770bdd0000000000000000ddb0770000000000ddb000000000
0000000066666666000000000000000000000000000000000000000000bbddd77ddd000000bbdddddddd0000000000000000ddddddddbb000000ddd77dddbb00
0000000066666666000000000000000000000000000000000000000000bbddd777dd000000bbdddddddd0000000000000000ddddddddbb000000dd777dddbb00
0000000066666666000000000000000000000000000000000000000000b0d007770d000000b0d000000d0000000000000000d000000d0b000000d077700d0b00
0000000066666666000000000000000000000000000000000000000000b0d007700d000000b0d000000d0000000000000000d000000d0b000000d007700d0b00
00000000666666660000000000000000000000000000000000000000000060070006000000006000000600000000000000007000000700000000700070070000
0000b0000000000000000000000c0000000000000ccccc0000000000777777770000000000000000000000000000e00000000000000000000000000000000000
0000b0000000000000000000000c000000000000000c0000000000007777777700000000000000000880088000e0e0e000000000000000000000000000000000
0000b0000000000000000000000c000000000000000c00000000000077777777000000000000000088008888000eee0000000000000000000000000000000000
0b00b00e0000000000000000e00c00c000000000e00c00c000000000777777770000000000000000880008880eee0eee00000000000000000000000000000000
0bbbb0e00bb0000000000cc00e0cccc000000cc00e0cccc00000000077777777000000000000000088800080000eee0000000000000000000000000000000000
0b00b0eee0b0000000000c0eee0c000000000c0eee0c0000000000007777777700000000000000000888080000e0e0e000000000000000000000000000000000
00000b00be000000000000ec00c00000000000ec00c0000000000000777777770000000000000000008880000000e00000000000000000000000000000000000
000000bb0ee0000000000ee0cc00000000000ee0cc00000000000000777777770000000000000000000800000000000000000000000000000000000000000000
00000000000000000000000000050000000000000000000000000000ccccccccaaaaaaaa000000000000000022222222bbbbbbbbeeeeeeee9999999988888888
0000000000000000000000a000111100000bb0000000000000000000ccccccccaaaaaaaa000000000880880022222222bbbbbbbbeeeeeeee9999999988888888
00000000000000000000a0a001000010008bb8000008000000000000ccccccccaaaaaaaabbbbbbbb8888888022222222bbbbbbbbeeeeeeee9999999988888888
000000000000000000c777a000111100006336000a88000b00000000ccccccccaaaaaaaacccccccc8888888022222222bbbbbbbbeeeeeeee9999999988888888
00000000000000000777a7a0500a8005b06bb60b888000b000000000ccccccccaaaaaaaadddddddd8888888022222222bbbbbbbbeeeeeeee9999999988888888
00000000000000000000aa00055bb5500bb33bb00088880000000000ccccccccaaaaaaaaeeeeeeee0888880022222222bbbbbbbbeeeeeeee9999999988888888
000000000000000000000aa05008a005b003300b0080080000000000ccccccccaaaaaaaa000000000088800022222222bbbbbbbbeeeeeeee9999999988888888
0000000000000000000000000050050000b00b000080080000000000ccccccccaaaaaaaa000000000008000022222222bbbbbbbbeeeeeeee9999999988888888
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009999999900000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009898989800000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009898989900000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009988998900000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009889998900000000000330000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009999899900000000003883300000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009898989900000000333333330000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000009899998800000000800333330000000000000000
00000000000000000000000000000000000000000000000000000000000333333333330000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000003333333333000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000003333333330000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000003333000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000033000033000000000000000033000000000000000000000000000000330000000000000000000
00000000000000000000000000000000000000000000000000388330033300000000000000388330000000000000000000000000003883300000000000000000
00000000000000000000000000000000000000000000000033333333333330000000000033333333333333333333333300000000333333333333300000000000
00000000000000000000000000000000000000000000000080033333333333000000000080033333333333333330000000000000800333333333330000000000
99999999999999999999999999999999999999990000000008888833333333330000000008888833333333330000000000000000088888333333333300000000
98989898989898989898989898989898989898980000000080003330000333330000000080003330000333330000000000000000800033300333333300000000
98989899989898999898989998989899989898990000000000330330000033333300000000330330000033333300000000000000003303300033333333000000
99889989998899899988998999889989998899890000000033000003003330003333000033000003003330003333000000000000330000030003333333330000
98899989988999899889998998899989988999890000000000000000030900000033300000000000030900000033300000000000000000000333333300333000
99998999999989999999899999998999999989990000000000000000090090000000300000000000090090000000300000000000000000000900333300003000
98989899989898999898989998989899989898990000000000000000009000000000300000000000009000000000300000000000000000000090003300003000
98999988989999889899998898999988989999880000000000000000000000000003300000000000000000000003300000000000000000000000000333033000
__gff__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000777700000000000000000000777700007776000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00030001196000f6100f6200d6201f62020620196201a6301a6501f6301f6301d6301963010620136100a60001600026000860003600026000260006600036000260000000000000000000000000000000000000
