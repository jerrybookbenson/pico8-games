pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- by julia


function _init()
    actors = {}
    uni_front_bottom=make_actor (8,8,154)
    uni_front_top=make_actor(8,7,138)
    uni_back_bottom=make_actor(7,8,153)
    uni_back_top=make_actor(7,7,137)
    wing_pos ="up" 
    flap_counter = 0  
    flap_delay = 20        
    is_fire_pressed = false;            
end


function make_actor(x,y,spr)
    a={}
    a.x = x
    a.y = y
    a.spr = spr
    add(actors,a)
  
    return a
end




function _update()
    if(wing_pos=="down" and flap_counter == flap_delay)then
        uni_front_bottom.spr=154
        uni_back_bottom.spr=153
        uni_back_top.spr=137
        wing_pos="up"
        flap_counter = 0
    elseif (flap_counter == flap_delay) then
        uni_front_bottom.spr=166
        uni_back_bottom.spr=165
        uni_back_top.spr=149
        wing_pos="down"
        flap_counter = 0
    else   
        flap_counter  = flap_counter + 1
    end
    
    if (btn(5) and not is_fire_pressed) then
        is_fire_pressed = true
        heart= make_actor(uni_front_top.x,uni_front_top.y,186)
    end
    if (not btn(5)) then
        is_fire_pressed=false
    end

    for actor in all(actors) do
        if (actor.spr == 186) then
            if (actor.x > 16) then
                del(actors, actor)
            else
                actor.x=actor.x+.3
            end
        end
    end
end



function draw_actor(a)
  local sx = (a.x * 8) - 4
  local sy = (a.y * 8) - 4
  spr(a.spr, sx, sy)
end

function _draw()
  cls()
  map(0,0,0,0,16,16)
  foreach(actors,draw_actor)

end

__gfx__
555555550000aa004444444411111111111111110000000011111111111111110000000000000000767777770000000000000000000008875555555555555555
555555550000aa004444444411111111171111110000000011111111111111110000000000030000667677670077770000000000000888875dddddd5ddddddd5
555555558000a0004444444411177711777111110000000011117771111711110000000000333000776367767777777000000000000000075dddddd5ddddddd5
55555555880aa0004444444411777777777111110000000017177777177771110000000000333000776367777777777700000000000000075dddddd5ddddddd5
55555555888aa8804444444417777777777711110000000077777777777777110000000003333300763336760077777077777777000000075555555555555555
55555555000aa0004444444411777777777771110000000077777777777777110000000003333300733333760007700000000000000000075dddddd5ddddddd5
5555555500aa00004444444411171177771111110000000077777777777777110000000003343300763436760000000000000000000000075dddddd5ddddddd5
5555555500aa00004444444411111117177111110000000017777777777771110000000000040000777477770000000000000000000000075555555555555555
000000000000000000000000000000000000000000000000cc7777777c777ccccccccccc1111111111111111cccccccc777777771111111199999999aa000000
000000000000000000000000000000000000000000000000cccccccccccccccccccccccc1177777777777111cccccccc7777777711111111989898980a000000
000000000000777000000000000000000000000000000000cccccccccccccccccccccccc1177777777777111cccccccc7777777711111111989898990aa00000
000000000000770000000000000000000000000000000000ccccccccccccccccccccc6cc1177777777777111cccccccc77777777111111119988998900aaa000
0000000000a7700000a7777000a7700000a7777000000000ccccccccccccccccccc7777c1117777777771111cccccccc7777777711111111988999890000a000
000000000000000000000000000077000000000000000000cccccccccccccccccc7766771111777777711111cccccccc7777777711111111999989990000aa00
0000000000000000000000000000777000000000000000000000000000000000c76777661111111111111111cccccccc77777777111111119898989900000aa0
0000000000000000000000000000000000000000000000000000000000000000777767771111111111111111cccccccc777777771111111198999988000000aa
77777777400000000000000444444444cccccccccccccccc5544554555445545ccccccc77ccccccccccccccccccccccc000000005555555555555555aaa000a0
7766677744000000000000444444444455555555cccccc555545555555545555cccccc7777cccccccccccccccccccccc000000005ddd5dd555555555a00aaa00
77777777444000000000044444444444ccc5cccccccccccc5555555555555555cccccc7666cccccccccccccccccccccc000000005ddd5dd5555555550a000000
77677767444400000000444444444444eeeee11ccceeeeee4445555544455555cccc7766777ccccccccccccc777ccccc000000005ddd5dd55555555500a00000
77666767444440000004444444444444eeeeee11cc55ccee4555555555455555cc776677767c7cccccccc7cc677767cc000000005555555555555555000a0000
77777777444444000044444444444444eeeee11cccccccce5555444555554445cc777777776777ccccc777c77777677c000000005ddd5dd5555555550000aa00
77767666444444400444444444444444ccbccbcccccccccc5555555555555555c66767676677676cc77777776676766c000000005ddd5dd55555555500000aa0
77777777444444444444444444444444bbbbbbbbcccccccc4555555545555555777777777776777c7777777777777777000000005555555555555555000000aa
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111000000000000000000000000000000000000000011111111111111111111111111111111000000000000000000000000000000000000000000000000
11111111000000000000000000000000000000000000000011111111171111111111117111111111000000000000000000000000000000000000000900000000
1111111100000000000000000000c000000000000000000011111111111111111111111111111111000000000000000000000000000000000000000000000000
1117777700033333000000000cccc000000000000008880011111111111111111111111111111111000000000000000000000000000000000000000000000000
117777110c53333300c20000011cc000000000000066888011111111111111111111111111111111000000000000000000000000000000000000000000000000
177771110553333322220000ccccc000000cc3330888888811111111111111111111111111111111000000000000000000000000000000000000000000000000
777771115553333322222222cccccccc333333330888888817111111111111111111111111111171000000000000000000000000000000000000000000000000
77771111000070700700007007000700070000070070007011111111111111111111111111111111000000000000000000000000000000000000000000000000
7777111188558888cccccccc11117777777777770000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
777711118855888877777777717188888888888800000000111111115aa55aa5555aaa5555aaa555555555550000000000000000000000000000000000000000
1777111188558888cccacccc111177777787877700000000111111115aa55aa5555aaa5555aaa55555a55a550000000000000000000000000000000000000000
177771115555555577aaa77771718888878887880000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
1177771155555555cccacccc11117777788888770000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
111777778855888877777777888888888788878800000000111111115aa55aa5555aaa5555aaa55555a55a550000000000000000000000000000000000000000
1111111188558888cccccccc777777777778777700000000111111115aa55aa5555aaa5555aaa555555555550000000000000000000000000000000000000000
11111111885588880000000088888888888888880000000011111111555555555555555555555555555555550000000000000000000000000000000000000000
00000000000000000000000000000000555555550000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000055555555000000000000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
00000000000000000000000055555555777777770000000000000000000000000000000000000000455575540000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aa000000000000aa0000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000a00000000000000000
0000000000000555000000000000000000000000000000000000000000000000000000000000000000000000000000000aa0a000000a0aa00000000000000000
00000000000055550000000000000000000000000000000000000000000000000000000000000000000000000000000000aaaa0000aaaa000000000000000000
000000000000555500000000000000000000000000000000000000000000000000000000000000000000000000000000000a0a0000a0a0000000000000000000
000000000055555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00aa000000000000000000000
000000000555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00a0000000000000000000000
0000000055555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000
bbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000b00e000000007000000000000000000000000000000000000000000000000000000000000000000900000000000000009000000000000000900000000000
0bbbb0e00bb000000700000000000000000000000000000000000000000000000000000000000000000900000000000000009000000000000000900000000000
0000b0eee0b00000eeeeee770000000000000000000000000000000000000000000000000000700000d900000000000000009d000007000000009d0000000000
00000b00be00000007000000000000000000000000000000000000000000000000000000000077000bdcdd000000000000ddcdb00077000000ddcdb000000000
000000bb0ee0000070000000000000000000000000000000000000000000000000000000000077700bdddd000000000000ddddb00777000000ddddb000000000
000000000000000000000000000000000000000000000000000000000000000000000000000007770bdd0000000000000000ddb0777000000000ddb000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000770bdd0000000000000000ddb0770000000000ddb000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000770bdd0000000000000000ddb0770000000000ddb000000000
00000000000000000000000000000000000000000000000000090000000000000000000000bbdddddddd0000000000000000ddddddddbb000000ddd77dddbb00
00000000000000000000000000000000000000000000000000090000000000000000000000bbdddddddd0000000000000000ddddddddbb000000dd777dddbb00
00000000000000000000000000000000000000000000000000d90000000000000000000000b0d000000d0000000000000000d000000d0b000000d077700d0b00
0000000000000000000000000000000000000000000000000bdcdd00000000000000000000b0d000000d0000000000000000d000000d0b000000d007700d0b00
0000000000000000000000000000000000000000000000000bdddd00000000000000000000006000000600000000000000007000000700000000700070070000
0000b00000000000000000000000000000000000000000000bdd0000000000000000000000000000000000000000000000000000000000000000000000000000
0000b00000000000000000000000000000000000000000000bdd0000000000000000000000000000000000000000000000000000000000000000000000000000
0000b00000000000000000000000000000000000000000000bdd0000000000000000000000000000000000000000000000000000000000000000000000000000
0b00b00e0000000000000000000000000000000000bbddd77ddd0000000000000000000000000000000000000000000000000000000000000000000000000000
0bbbb0e00bb0000000000000000000000000000000bbddd777dd0000000000000000000000000000000000000000000000000000000000000000000000000000
0b00b0eee0b0000000000000000000000000000000b0d007770d0000000000000000000000000000000000000000000000000000000000000000000000000000
00000b00be00000000000000000000000000000000b0d007700d0000000000000000000000000000000000000000000000000000000000000000000000000000
000000bb0ee000000000000000000000000000000000600700060000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000007707700000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000bbbbbbbb077e7e770000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000cccccccc07eeeee70000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000dddddddd07eeeee70000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000eeeeeeee007eee700000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000007e7000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000666666666666666600000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000666666666666666600000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000666666666666666600000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000666666666666666600000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000666666666666666600000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000666666666666666600000000000000000000000000000000000000000000000000000000
00000000000000000000000000066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b798b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b798b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b7b7b7b73bb7b7b7b7b7b7b7b7b7b7b700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3b3b3b3b3b3b3b3b3b3b3b3b3b3b3b3b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00030001196000f6100f6200d6201f62020620196201a6301a6501f6301f6301d6301963010620136100a60001600026000860003600026000260006600036000260000000000000000000000000000000000000
